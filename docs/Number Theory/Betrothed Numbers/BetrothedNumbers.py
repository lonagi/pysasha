#!/usr/bin/env python
# coding: utf-8

# # –ö–≤–∞–∑–∏-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

# (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –û–±—Ä—É—á—ë–Ω–Ω—ã–µ —á–∏—Å–ª–∞)

# ### #–ó–∞–Ω–∏–º–∞—Ç–µ–ª—å–Ω–∞—è –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
# 
# #### –í–µ—Å—å –∫–æ–¥ –Ω–∞ Github, —Å—Å—ã–ª–∫–∞ –≤ –∫–æ–Ω—Ü–µ —Å—Ç–∞—Ç—å–∏!

# –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫

# In[1]:


from IPython.display import Image
from IPython.core.display import HTML 
from IPython.core.interactiveshell import InteractiveShell
from scipy.ndimage.filters import gaussian_filter1d
from scipy.signal import savgol_filter
import numpy as np
import sympy as sp
import pandas as pd
import random as r
import time
import matplotlib.pyplot as plt
import ipyturtle as turtle
#InteractiveShell.ast_node_interactivity = "all"

def drawPlot(ss,title="–°–∫–æ—Ä–æ—Å—Ç–∏",y="–°–µ–∫—É–Ω–¥",x="–ù–æ–º–µ—Ä –∏—Ç–µ—Ä–∞—Ü–∏–∏"):
    fig,ax=plt.subplots(figsize=(6,6))
    ax.set_facecolor("#F2F2F2")
    ax.grid()
    ax.set_title(title)
    ax.set_ylabel(y)
    ax.set_xlabel(x)
    ax.plot(ss)


# In[38]:


Image(url="https://sun9-27.userapi.com/5E-SgBD3vzq5A09aJ8lFJdeE-QVpBu397j9ZKg/pX1kJXlBs_E.jpg", width=400)


# –ö–≤–∞–∑–∏-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞ —ç—Ç–æ –¥–≤–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Å—É–º–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ–ª–∏—Ç–µ–ª–µ–π –∫–∞–∂–¥–æ–≥–æ —á–∏—Å–ª–∞ –Ω–∞ 1 –±–æ–ª—å—à–µ, —á–µ–º –≤—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ.  
# 
# –í–æ—Ç —Ç–∞–∫ –≤–æ—Ç –æ–Ω–∏ —Å—Ç–æ—è—Ç —Ä—è–¥–æ–º ‚ò∫  
# 
# –ù–µ –∏–º–µ—é—Ç –±–æ–ª—å—à–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç–µ–æ—Ä–∏–∏ —á–∏—Å–µ–ª, –æ–¥–Ω–∞–∫–æ —è–≤–ª—è—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∑–∞–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏. –ß—Ç–æ –∏ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –¥–ª—è –Ω–∞—Å :)

# In[3]:


def Divisors(num): 
    from math import sqrt as mmsq
    s=set([1])
    i=1
    a=int(mmsq(num)+1)
    while i<=a: 
        if(num//i==num):
            i+=1
            continue
        if (num%i==0): 
            if (num//i!=i): 
                s.add(num//i)
            s.add(i)
        i+=1
    return s


# In[4]:


Divisors(48)," #–î–µ–ª–∏—Ç–µ–ª–∏ —á–∏—Å–ª–∞ 48"
Divisors(78)," #–î–µ–ª–∏—Ç–µ–ª–∏ —á–∏—Å–ª–∞ 75"


# In[5]:


sum(Divisors(48))
sum(Divisors(75))


# –ò —á—Ç–æ –º—ã –Ω–∞–±–ª—é–¥–∞–µ–º? –°—É–º–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ–ª–∏—Ç–µ–ª–µ–π —É 48 –≤—ã–¥–∞–ª–æ –Ω–∞–º 76, —á—Ç–æ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É –±–æ–ª—å—à–µ, —á–µ–º 75. –ê —É 75 —Å—É–º–º–∞ –≤—ã–¥–∞–ª–∞ 49. –í–æ—Ç –∏ —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π –ø—Ä–∏–º–µ—Ä!)

# –ò —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –ø–∞—Ä –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –æ–±—Ä—É—á—ë–Ω–Ω—ã—Ö —á–∏—Å–µ–ª!

# ## –§–∞–∫—Ç—ã

# 1) –í—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–∞—Ä—ã –æ–±—Ä—É—á—ë–Ω–Ω—ã—Ö —á–∏—Å–µ–ª –∏–º–µ—é—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é —á—ë—Ç–Ω–æ—Å—Ç—å.  
# 
# 2) –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä –æ–±—Ä—É—á—ë–Ω–Ω—ã—Ö —á–∏—Å–µ–ª.  

# ## –ê–ª–≥–æ—Ä–∏—Ç–º—ã 

# –ü–µ—Ä–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π —è —Ä–µ—à–∏–ª —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ –∫–æ–≥–¥–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–±–æ—Ä–∞. –ü—Ä–æ—Å—Ç–æ–π –±—Ä—É—Ç —Ñ–æ—Ä—Å.

# In[6]:


##Brute force Method
def BetrothedNumber(k,ratio=5.5,ratio2=5.5,order=1,returni=False):  
    ##All divisors for all numbers
    allDels=dict()
    
    ###Second number is greater than first number
    from itertools import chain
    concatenated = chain( range(k, int(k*ratio)+1 ),range(k, int(k/ratio2)+1 ,-1) )
    for i in concatenated:

        ###We don't want repeat operations
        ###Therefore search and save all divisors
        if(str(i) not in allDels):
            allDels[str(i)] = Divisors(i)

        ###Sum1+order_num = 2nd Num and Sum2+order_num = 1st Nub
        if(i != k and sum(allDels[str(i)]) == k+order and sum(allDels[str(k)]) == i+order):
            if(returni):
                return (k,i)
            else:
                print(k,"->",i)


# –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ –º—ã –±–µ—Ä—ë–º –ø–æ –ø–æ—Ä—è–¥–∫—É –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ, –∞ –∑–∞—Ç–µ–º –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º —á–∏—Å–ª–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä—ã.    
#   
# –ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —è –≤—ã–±—Ä–∞–ª –¥–∏–∞–ø–∞–∑–æ–Ω?  
# 
# –ü–æ–∑–∂–µ –µ—â—ë —Ä–∞—Å—Å–∫–∞–∂—É

# In[7]:


BetrothedNumber(1) # –ù–∏—á–µ–≥–æ
BetrothedNumber(48) # –ù–∞—à–ª–∏ –ø–∞—Ä—É!


# –†–∞—Å—Å—á–∏—Ç–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

# In[8]:


get_ipython().run_line_magic('time', 'BetrothedNumber(48)')


# In[9]:


get_ipython().run_cell_magic('timeit', 'BetrothedNumber(48)', ';')


# –¢–∞–∫–∏–µ –≤—ã—à–ª–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —á–∏—Å–ª–∞ 48. –ü–æ–∑–∂–µ –º—ã —Å—Ä–∞–≤–Ω–∏–º —Å –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–æ–º.   
# 
# –ù–æ –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ, –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å

# In[10]:


s = np.array([])
for i in range(1,500):
    start_time = time.time()
    BetrothedNumber(i)
    end_time = (time.time() - start_time)
    s=np.append(s,end_time)


# In[11]:


drawPlot(s)


# –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —è –¥—É–º–∞–ª, —á—Ç–æ —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º O(n), –Ω–æ –æ–Ω –Ω–µ —Ç–∞–∫ —Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º. –•–æ—Ç—è —Å–º—É—â–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –º—ã –Ω–∞—à–ª–∏ –ø–∞—Ä—É, —Ç–æ –æ–Ω–æ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞–º–Ω–æ–≥–æ —Å–∏–ª—å–Ω–µ–µ.

# –ü–æ–ø—Ä–æ–±—É–µ–º –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥. –≠—Ç–æ —Ç–æ–∂–µ —Ç–∏–ø–æ –ø–µ—Ä–µ–±–æ—Ä–∞, –Ω–æ –∑–¥–µ—Å—å —Ñ—É–Ω–∫—Ü–∏—è f(m,n), –≥–¥–µ –º—ã –ø–æ–¥–∞—ë–º –Ω–∞ –≤—Ö–æ–¥ –¥–≤–∞ —á–∏—Å–ª–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É "–∫–≤–∞–∑–∏-–¥—Ä—É–∂–±—ã".

# In[12]:


def BetrothedNumbers(m,n,order=1):
    if(m!=n):
        s1=set([1])
        for i in range(int(m/2+1),1,-1):
            if(m%i==0):
                s1.add(i)
        s2=set([1])
        for i in range(int(n/2+1),1,-1):
            if(n%i==0):
                s2.add(i)
        return sum(s1)==n+1 and sum(s2)+n==sum(s1)+m
    else:
        return False


# In[13]:


BetrothedNumbers(48,75)


# In[14]:


get_ipython().run_line_magic('time', 'BetrothedNumbers(48,75)')


# In[15]:


get_ipython().run_cell_magic('timeit', '', 'BetrothedNumbers(48,75)')


# In[16]:


s = np.array([])
for i in range(1,100):
    start_time = time.time()
    for j in range(1,100):
        BetrothedNumber(i,j)
    end_time = (time.time() - start_time)
    s=np.append(s,end_time)


# In[17]:


drawPlot(s)


# –í–æ—Ç —Ç–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–¥–∞–ª –≤—Ç–æ—Ä–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ, —è –≤—ã–±–∏—Ä–∞—é –ø–µ—Ä–≤—ã–π –±—Ä—É—Ç —Ñ–æ—Ä—Å!  
# 
# –ï—Å–ª–∏ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, —Ç–æ —ç—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ª—å—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª—å—à–µ —á–µ–º –≤ 10 —Ä–∞–∑.

# –ö—Å—Ç–∞—Ç–∏, sympy —Å–Ω–æ–≤–∞ –Ω–∞—Å –ø–æ–¥–≤—ë–ª. –£ –Ω–µ–≥–æ –Ω–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –¥–ª—è –∫–≤–∞–∑–∏-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª, –Ω–æ –∑–∞—Ç–æ —è –Ω–∞—à—ë–ª –µ—â—ë –∞–ª–≥–æ—Ä–∏—Ç–º –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –ü–æ–ø—Ä–æ–±—É–µ–º —Ä–∞–∑—É–∑–Ω–∞—Ç—å, —á—Ç–æ —Å –Ω–∏–º. 

# In[18]:


def NBetrothedNumbers(n) :
    bet=[]
    for num1 in range (1,n) : 
        sum1 = 1
        i = 2
        while i * i <= num1 : 
            if (num1 % i == 0) : 
                sum1 = sum1 + i 
                if (i * i != num1) : 
                    sum1 += num1 / i 
            i =i + 1
        if (sum1 > num1) : 
            num2 = sum1 - 1
            sum2 = 1
            j = 2
            while j * j <= num2 : 
                if (num2 % j == 0) : 
                    sum2 += j 
                    if (j * j != num2) : 
                        sum2 += num2 / j 
                j = j + 1
            if (sum2 == num1+1) : 
                bet.append ((num1,num2)) 
    return bet
n = 1000000
bet=NBetrothedNumbers(n) 
bet


# –ê –æ–Ω –¥–æ–≤–æ–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π! –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º —è –º–æ–≥ –Ω–∞–ø–∏—Å–∞—Ç—å!  
# –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –±—É–¥–µ–º —Å–æ–±–∏—Ä–∞—Ç—å –ø–∞—Ä—ã

# –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —Ä—è–¥ –ø–∞—Ä –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ä—è–¥ —á–∏—Å–µ–ª.

# In[19]:


flat_list = [item for sublist in bet for item in sublist]
flat_list


# –¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∂—É, –ø–æ—á–µ–º—É —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ 5x —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞.  

# In[20]:


df=pd.DataFrame([(48, 75.0), (140, 195.0), (1050, 1925.0), (1575, 1648.0), (2024, 2295.0), (5775, 6128.0), (8892, 16587.0), (9504, 20735.0), (62744, 75495.0), (186615, 206504.0), (196664, 219975.0), (199760, 309135.0), (266000, 507759.0), (312620, 549219.0), (526575, 544784.0), (573560, 817479.0), (587460, 1057595.0)])
df


# –ò—Ç–æ–≥–æ —è —Å–º–æ–≥ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—á—Ç–∏ –∑–∞ 2 –º–∏–Ω—É—Ç—ã 16 –ø–∞—Ä!

# –ü–æ—Å—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ–∏–∫ —Ç–æ–≥–æ, –∫–∞–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–≤–∞–∑–∏-–¥—Ä—É–≥ –ø–æ –º–µ—Ä–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ—è –≤—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—é.

# In[21]:


drawPlot(flat_list,y="–ß–∏—Å–ª–æ")


# –ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫–∞—è –±—É–¥–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫–∞.

# In[22]:


dbet = [flat_list[i]-flat_list[i-1] for i in range(1,len(flat_list))]
drawPlot(dbet,title="–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä—É—á–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª",x="–ù–æ–º–µ—Ä —á–∏—Å–ª–∞",y="–£—Å–∫–æ—Ä–µ–Ω–∏–µ")


# –ö—Å—Ç–∞—Ç–∏, –∞ –ø–æ –ø–æ–≤–æ–¥—É –æ—Ç–Ω–æ—à–µ–Ω–∏–π –≤ 5.5 —Ä–∞–∑. –ú–æ–∂–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞–π—Ç–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ä–µ–¥–∏ —ç—Ç–∏—Ö 7 –ø–∞—Ä. –ú–æ–∂–µ—Ç –µ—Å—Ç—å —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å?

# In[23]:


ratio=[flat_list[i]/flat_list[i-1] for i in range(1,len(flat_list))]
drawPlot(ratio,title="–û—Ç–Ω–æ—à–µ–Ω–∏—è –ø–∞—Ä",x="–ù–æ–º–µ—Ä –ø–∞—Ä—ã",y="–û—Ç–Ω–æ—à–µ–Ω–∏–µ")


# –ò –≤–æ—Ç –º—ã –≤–∏–¥–∏–º –¥–≤–∞ –º–æ–º–µ–Ω—Ç–∞.  
# –ü–µ—Ä–≤—ã–π: —Ä—è–¥ –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è

# –í—Ç–æ—Ä–æ–π: –µ—Å–ª–∏ –≤–∑—è—Ç—å –ª—é–±–æ–µ –æ–±—Ä—É—á—ë–Ω–Ω–æ–µ —á–∏—Å–ª–æ –∏ —É–º–Ω–æ–∂–∞—Ç—å –µ–≥–æ –Ω–∞ –ª—é–±—ã–µ —á–∏—Å–ª–∞ –¥–æ 5.5, —Ç–æ –º—ã —Ç–æ—á–Ω–æ —Å–º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –µ–≥–æ –ø–∞—Ä—É! –ü–æ—ç—Ç–æ–º—É –∏ –ø–æ–ª—É—á–∏–ª—Å—è —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –¥–∏–∞–ø–∞–∑–æ–Ω.

# In[ ]:





# –£–∑–Ω–∞–µ–º —Å—Ä–µ–¥–Ω–µ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ

# In[24]:


np.mean(ratio)


# #### –ü–ª–æ—Ç–Ω–æ—Å—Ç—å   
# –ü–æ —Ç—Ä–∞–¥–∏—Ü–∏–∏, –∏–∑—É—á–∏–º –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Ä—è–¥–∞ –∫–≤–∞–∑–∏-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª!  
# –ê –∑–∞—Ç–µ–º –∏ —Å–∫–æ—Ä–æ—Å—Ç—å.

# In[25]:


densities=[(len(list(filter(lambda x: x < i, sorted(flat_list))))-1)/i for i in range(200,10000)]
drawPlot(densities,"–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏","–ü–ª–æ—Ç–Ω–æ—Å—Ç—å","–û–±—Ä—É—á—ë–Ω–Ω–æ–µ —á–∏—Å–ª–æ")


# –û–≥–æ. –ü–ª–æ—Ç–Ω–æ—Å—Ç—å —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ –∏–¥—ë—Ç –∫ –Ω—É–ª—é

# In[26]:


ddensities = [densities[i]-densities[i-1] for i in range(1,len(densities))]
drawPlot(ddensities,title="–°–∫–æ—Ä–æ—Å—Ç—å –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏",x="–û–±—Ä—É—á—ë–Ω–Ω–æ–µ —á–∏—Å–ª–æ",y="–°–∫–æ—Ä—Å–æ—Ç—å")


# –ö—Å—Ç–∞—Ç–∏, –∞ —Ç–µ–ø–µ—Ä—å –µ—Å–ª–∏ –ø—Ä–∏–≥–ª—è–¥–µ—Ç—Å—è –Ω–∞ –ª–∏–Ω–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏, —Ç–æ –º—ã –ø–æ–π–º—ë–º, —á—Ç–æ —ç—Ç–æ —Ç–æ—á–∫–∏ –ø–µ—Ä–µ–≥–∏–±–∞!  
# 
# –í —Ü–µ–ª–æ–º, —è –±—ã —Å–¥–µ–ª–∞–ª –≤—ã–≤–æ–¥, —á—Ç–æ —Ä–∞–∑ –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, —Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ–±—Ä—É—á–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞ —Å –∏—Ö —Ä–æ—Å—Ç–æ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–µ–≥—á–µ, –µ—Å–ª–∏ –ø—Ä–µ–Ω–µ–±—Ä–µ—á—å —Ç–µ–º, —á—Ç–æ —á–∏—Å–ª–∞ –±–æ–ª—å—à–∏–µ.

# ### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

# –£–∑–Ω–∞–µ–º —Å–∫–æ–ª—å–∫–æ —á—ë—Ç–Ω—ã—Ö –∏ –Ω–µ—á—ë—Ç–Ω—ã—Ö —á–∏—Å–µ–ª –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?

# In[27]:


InteractiveShell.ast_node_interactivity = "last"

EvenBetrothed=[i for i in flat_list if(i%2==0)]
len(EvenBetrothed)


# In[28]:


plt.pie([len(EvenBetrothed),34-len(EvenBetrothed)], 
        colors=["#A7FF5B","#E7AFFF"],
        labels=["–ß—ë—Ç–Ω—ã–µ","–ù–µ—á—ë—Ç–Ω—ã–µ"], 
        autopct='%1.1f%%',
        shadow=True,
        textprops={'color':"black"})
plt.legend([len(EvenBetrothed),34-len(EvenBetrothed)])
("")


# –ò–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å!

# –ò—Å—Å–ª–µ–¥—É–µ–º —Ç–µ–ø–µ—Ä—å –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É!

# In[29]:


def _isPrime(n):
    if n%2==0:
        return n==2
    d=3
    while d*d<=n and n%d!=0:
        d+=2
    return d*d>n


# In[30]:


PrimeBetrothed=[(i) for i in flat_list if(_isPrime(int(i)))]
plt.pie([34-len(PrimeBetrothed),len(PrimeBetrothed)], 
        colors=["#A7FF5B","#E7AFFF"],
        labels=["–°–æ—Å—Ç–∞–≤–Ω—ã–µ","–ü—Ä–æ—Å—Ç—ã–µ"], 
        autopct='%1.1f%%',
        shadow=True,
        textprops={'color':"black"})
plt.legend([34-len(PrimeBetrothed),len(PrimeBetrothed)])
("")


# –ù–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ —á–∏—Å–ª–∞! –í–æ—Ç —Ç–∞–∫ –∑–∞–±–∞–≤–∞.

# ### –§—Ä–∞–∫—Ç–∞–ª—ã

# –ü–æ—Å–º–æ—Ç—Ä–∏–º, –∞ –º–æ–∂–Ω–æ –ª–∏ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ –¥–∞–Ω–Ω–æ–º—É —Ä—è–¥—É?

# In[31]:


ratio=[flat_list[i]/flat_list[i-1] for i in range(1,len(flat_list))]


# $ —É–≥–æ–ª={{2 \pi }\over{x^2}} $

# In[32]:


np.mean(ratio)


# In[33]:


angle=sp.N(360/np.mean(ratio)**2)
angle


# In[34]:


#–°–æ–∑–¥–∞—ë–º –∫–∞—Ä—Ç–∏–Ω–∫—É 300—Ö300

N=300
t = turtle.Turtle(fixed=False, width=N, height=N)
t.hideturtle()
t


# In[35]:


for i in range(15):
    for j in range(int(angle)): 
        t.forward(i/10) 
        t.left(1)
        if(i>10):
            time.sleep(0.01) # –ß—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å —Ä–∏—Å—É–Ω–æ–∫


# In[36]:


t = turtle.Turtle(fixed=False, width=N, height=N)
t.hideturtle()
t


# In[37]:


for i in range(15):
    angle=sp.N(360/ratio[i]**2)
    for j in range(int(angle)): 
        t.forward(i/10) 
        t.left(1)
        if(i>10):
            time.sleep(0.04) # –ß—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å —Ä–∏—Å—É–Ω–æ–∫


# –ï—Å–ª–∏ –≤–∑—è—Ç—å —Å—Ä–µ–¥–Ω–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —á–∏—Å–µ–ª, —Ç–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —á—Ç–æ-—Ç–æ —Ç–∏–ø–æ —Ä–∏—Å—É–Ω–∫–∞ –∫–æ–º–ø–∞–Ω–µ–π—Å–∫–∏—Ö —á–∏—Å–µ–ª. (–ù–µ –∑—Ä—è, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∫–≤–∞–∑–∏-–∫–æ–º–ø–∞–Ω–µ–π—Å–∫–∏–µ —á–∏—Å–ª–∞)

# –ù–æ, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —É –Ω–∞—Å –±—É–¥–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —É–≥–æ–ª, —Ç–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª. –í—Ä–æ–¥–µ –∏ —Å—Ç—Ä–∞–Ω–Ω–∞—è, –∞ –≤—Ä–æ–¥–µ –∏ –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–∞ –Ω–∞ Google Chrome, —á–µ–º –±—ã–ª–æ.

# ### –ü–æ–¥–≤–µ–¥—ë–º –∏—Ç–æ–≥

# –ö–≤–∞–∑–∏-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ (–æ–±—Ä—É—á–µ–Ω–Ω—ã–µ) —á–∏—Å–ª–∞ –∏–º–µ—é—Ç –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –ø–æ—Ö–æ–∂–∏—Ö —Å–≤–æ–π—Å—Ç–≤ —Å –∫–æ–º–ø–∞–Ω–µ–π—Å–∫–∏–º–∏ –∏ –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏. –ò —ç—Ç–æ —É–¥–∏–≤–ª—è–µ—Ç. 

# # –ö–æ–Ω–µ—Ü  
# 
# –ù–∞ —ç—Ç–æ–º –≤—Å—ë, –¥–æ—Ä–æ–≥–∏–µ —á–∏—Ç–∞—Ç–µ–ª–∏!  
# –ù–∞–¥–µ—é—Å—å –≤–∞–º –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —É–∑–Ω–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Ç–∞–∫–æ–≥–æ –∏–∑ –∑–∞–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ üòç
# 
# –ü—Ä–æ—à–ª—ã–π —Ä–∞–∑ —è –æ–±–µ—â–∞–ª —Ä–∞—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞, –Ω–æ —É –º–µ–Ω—è –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–∫–∞, —á—Ç–æ. –ü–æ—ç—Ç–æ–º—É —è —É—Å–ø–µ–ª —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫—É—é —Å—Ç–∞—Ç—å—é)
# –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –º—ã—Å–ª–∏ –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—à–∏—Ç–µ...–ú–æ–∂–µ—Ç –Ω–∞–π–¥—É —á—Ç–æ –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å.